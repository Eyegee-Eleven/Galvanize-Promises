const { expect } = require('chai')
const Castle = require('../../src/castles/castle')

describe('Castle', function () {
  describe('new Castle', function () {
    it('creates a new instance of a Castle', function () {
      const name = 'My Castle'
      const castle = new Castle(name)

      expect(castle).to.be.instanceof(Castle)
      expect(castle.name).to.equal(name)
    })

    it('assigns an id', function () {
      const castle = new Castle()

      expect(castle.id).to.not.be.null
    })

    it('creates assigns a random name if none is provided', function () {
      const castle = new Castle()

      expect(castle).to.be.instanceof(Castle)
      expect(castle.name).to.not.be.null
      expect(castle.name).to.be.a('string')
    })

    it('assigns a value to health', function () {
      const castle = new Castle()

      expect(castle.health).to.be.above(1)
    })
  })
})
